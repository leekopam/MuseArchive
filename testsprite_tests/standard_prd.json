{
  "meta": {
    "project": "MuseArchive",
    "date": "2025-12-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "MuseArchive is a Flutter-based album management app allowing users to maintain and interact with their music collection and wishlist. It supports deep album metadata management, image integration, and Spotify search, with local persistence and backup capabilities.",
  "core_goals": [
    "Provide users a seamless way to add, edit, view, and organize music albums.",
    "Enable robust search and filtering by album attributes and integration with Spotify for cover and link retrieval.",
    "Ensure high app stability and data persistence including backup and restore features.",
    "Deliver smooth user experience with animations, drag-and-drop reorder, and fast performance for large collections.",
    "Handle edge cases and errors gracefully, maintaining usability under poor network or permission conditions."
  ],
  "key_features": [
    "Album management with add, update, delete, reorder, and persistent storage using Hive.",
    "Add/edit album form with fields for title, artist, description, memo, and advanced image handling (camera, gallery, OCR).",
    "Spotify integration for searching album covers and music links.",
    "Search functionality filtering albums by Title, Artist, and Description with real-time updates.",
    "Separate Collection and Wishlist views with instant tab switching and filtering.",
    "Detailed album view with smooth hero animations and external link support.",
    "Artist detail screen showing grouped albums and statistics.",
    "Backup and restore functionality generating/importing .zip files including images and database.",
    "Robust permission handling and error messaging for network and access issues.",
    "Performance optimized for smooth scrolling even with 50+ albums."
  ],
  "user_flow_summary": [
    "User opens app loading Home screen with Collection and Wishlist tabs instantly available.",
    "User can browse albums or switch tabs: albums are filtered accordingly.",
    "User taps \"Add Album\" to open add/edit form with fields for album metadata.",
    "User can search Spotify for covers or links, or select/take images, and use OCR for text extraction.",
    "User saves album and it is persisted locally, reflected immediately in the list.",
    "User can reorder albums with drag and drop, with position saved on app restart.",
    "User can long-press albums to trigger deletion with confirmation dialog.",
    "Tapping album opens Detail screen with hero animation, showing full metadata and external music link.",
    "From Detail, user can navigate to Artist screen showing grouped albums and album count for that artist.",
    "User accesses Settings for backup and restore using .zip files that include images and database replacement.",
    "App handles offline search gracefully, permission denials, and large image uploads without crash."
  ],
  "validation_criteria": [
    "App launches without crashing and displays albums correctly on Home screen.",
    "Tabs switch instantly and filter albums between Collection and Wishlist accurately.",
    "Search filters by Title, Artist, and Description update results in real-time.",
    "Reordering albums works smoothly via drag & drop; order persists after app restart.",
    "Deleting an album prompts confirmation and removes it immediately upon confirmation.",
    "Add/Edit form validates required fields (Title and Artist) before saving.",
    "Spotify search returns image results and sets cover; link search populates link without changing cover.",
    "Image functions allow selection from gallery, camera capture, and OCR text extraction.",
    "Detail screen shows all metadata fields and external link opens Spotify or browser.",
    "Artist detail screen displays correct albums and album count.",
    "Backup generates .zip file and restore imports and replaces database and images correctly.",
    "App performance remains smooth with large album lists (50+ items).",
    "Network loss shows graceful error messages during Spotify search.",
    "Permission denials prompt user-friendly dialogs.",
    "High-resolution images do not cause crashes or memory errors."
  ],
  "code_summary": {
    "tech_stack": [
      "Dart",
      "Flutter",
      "Hive",
      "Provider"
    ],
    "features": [
      {
        "name": "Album Management",
        "description": "Load, add, update, delete, and reorder albums. Handles persistence via Hive.",
        "files": [
          "lib/models/album.dart",
          "lib/services/album_repository.dart",
          "lib/viewmodels/home_viewmodel.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Album API",
            "version": "1.0.0"
          },
          "paths": {}
        }
      },
      {
        "name": "Album Form & Search",
        "description": "Form handling for creating/editing albums, including Spotify search and image saving.",
        "files": [
          "lib/viewmodels/album_form_viewmodel.dart",
          "lib/services/spotify_service.dart",
          "lib/screens/add_screen.dart"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Album Form API",
            "version": "1.0.0"
          },
          "paths": {}
        }
      }
    ]
  }
}
